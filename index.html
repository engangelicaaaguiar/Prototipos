<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>Angel Telemed — Validar CPF</title>
<style>
:root{
  --brand-blue:#00357A;
  --brand-green:#00A56F;
  --bg:#F6FAFF;
  --ink:#122033;
  --radius:16px;
}

*{box-sizing:border-box;font-family:Inter,Arial,sans-serif}
body{margin:0;background:var(--bg);color:var(--ink)}

.container{
  max-width:375px;margin:0 auto;padding:40px 18px;text-align:center;
}

/* Campo CPF */
.input{
  width:100%;padding:14px;font-size:18px;border-radius:14px;
  border:2px solid #DCE6F2;outline:none;text-align:center;
}
.input:focus{border-color:#B8D3F3}

/* Botão */
.btn{
  margin-top:20px;width:100%;padding:16px;
  font-size:18px;font-weight:700;
  border-radius:14px;border:0;
  background:var(--brand-green);color:#fff;
  cursor:pointer;opacity:.5;
}
.btn.active{opacity:1}

/* Modal Energia Vital */
.modal-bg{
  position:fixed;inset:0;background:rgba(0,0,0,.65);
  display:none;align-items:center;justify-content:center;
  z-index:999;
}
.modal{
  width:220px;height:220px;background:#fff;border-radius:20px;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:18px;overflow:hidden;position:relative;
}

@keyframes pulseA {
  0% {transform:scale(.9); opacity:.45}
  50% {transform:scale(1.08); opacity:.85}
  100% {transform:scale(.9); opacity:.45}
}

/* Círculo animado estilo Nubank */
.loader{
  width:110px;height:110px;
  border-radius:50%;
  background: radial-gradient(circle at center,
    var(--brand-green) 0%, #2BE3AE 100%);
  animation:pulseA 1.5s infinite ease-in-out;
  box-shadow:0 0 28px rgba(2,165,111,.55),
             0 0 60px rgba(2,165,111,.28);
}

/* Texto */
#loadText{
  font-weight:700;font-size:15px;
  color:var(--brand-blue); text-align:center;padding:0 12px;
}
</style>
</head>

<body>

<div class="container">
  <h2>Confirme seu CPF para começar</h2>
  <p>Para sua segurança e acesso ao seu prontuário</p>

  <input id="cpf" class="input" maxlength="14" placeholder="000.000.000-00"/>

  <button id="btn" class="btn" disabled>Continuar</button>
</div>

<!-- Modal Energia Vital -->
<div class="modal-bg" id="modal">
  <div class="modal">
    <div class="loader"></div>
    <div id="loadText">Estamos validando seu CPF...</div>
  </div>
</div>

<script>
const cpf = document.getElementById("cpf");
const btn = document.getElementById("btn");
const modal = document.getElementById("modal");
const txt = document.getElementById("loadText");

cpf.addEventListener("input",()=>{
  let v = cpf.value.replace(/\D/g,"").slice(0,11);
  v = v.replace(/(\d{3})(\d)/,"$1.$2")
       .replace(/(\d{3})(\d)/,"$1.$2")
       .replace(/(\d{3})(\d{1,2})$/,"$1-$2");

  cpf.value = v;
  btn.disabled = (v.replace(/\D/g,'').length !== 11);
  btn.classList.toggle("active", !btn.disabled);
});

btn.addEventListener("click",()=>{
  const cpfRaw = cpf.value.replace(/\D/g,"");

  localStorage.setItem("angel.cpf", cpfRaw);

  // inicia modal
  modal.style.display="flex";

  // simula busca com API
  if(cpfRaw.startsWith("999")){
    txt.textContent="CPF não localizado...";
    setTimeout(()=>{
      alert("Seu CPF não está ativo no momento.\nPor favor, procure seu RH.");
      modal.style.display="none";
    },2500);
    return;
  }

  // animação premium com 2 textos
  txt.textContent="Estamos validando seu CPF...";
  setTimeout(()=>{txt.textContent="Encontrando sua empresa..."},1300);

  // final → cadastro
  setTimeout(()=>{
    // define empresa fictícia
    localStorage.setItem("angel.empresa","Angel Corp Saúde Digital");
    window.location.href="cadastro.html";
  },3000);
});
</script>

</body>
</html>

